(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{23:function(t,e,n){t.exports=n(38)},33:function(t,e,n){},34:function(t,e,n){},35:function(t,e,n){},36:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(11),c=n.n(o),u=n(5),s=n(22),i=n(4),l=n(10),d=n(8),m=n(21),b=function(t){return{type:"SET_TODOS",todos:t}},p=function(t){return{type:"SORT",sortType:t}},f=function(t){return t.isLoading},O=function(t){return t.todos},E={isLoading:!1,todos:[]},y=function(t,e){switch(t){case"by title":return Object(l.a)(e).sort((function(t,e){return t.title.localeCompare(e.title)}));case"by name":return Object(l.a)(e).sort((function(t,e){return t.user&&e.user?t.user.name.localeCompare(e.user.name):0}));case"by completed":return Object(l.a)(e).sort((function(t,e){return Number(e.completed)-Number(t.completed)}));default:return e}},j=Object(d.createStore)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"TOGGLE_LOADING":return Object(i.a)(Object(i.a)({},t),{},{isLoading:!t.isLoading});case"SET_TODOS":return Object(i.a)(Object(i.a)({},t),{},{todos:e.todos});case"SORT":return Object(i.a)(Object(i.a)({},t),{},{todos:y(e.sortType,t.todos)});case"REMOVE":return Object(i.a)(Object(i.a)({},t),{},{todos:Object(l.a)(t.todos).filter((function(t){return t.id!==e.id}))});default:return t}}),Object(m.composeWithDevTools)()),v=n(7),_=n.n(v),h=n(13),N=(n(33),n(34),function(t){var e,n=t.todo,r=Object(u.b)();return a.a.createElement("div",{className:"todo__item-wrapper",style:{backgroundColor:"".concat(n.completed?"green":"red")}},a.a.createElement("span",{className:"todo__item-name"},null===(e=n.user)||void 0===e?void 0:e.name),a.a.createElement("p",{className:"todo__item-title"},n.title),a.a.createElement("button",{onClick:function(){return r({type:"REMOVE",id:n.id})},type:"button",className:"remove-btn"},"Remove"))}),L=(n(35),function(t){var e=t.todos;return a.a.createElement("ul",{className:"todo__list list"},e.map((function(t){return a.a.createElement("li",{className:"list__item",key:t.id},a.a.createElement(N,{todo:t}))})))}),T=function(){var t=Object(h.a)(_.a.mark((function t(e){var n,r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.abrupt("return",r.data);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=(n(36),function(){var t=Object(u.b)();return a.a.createElement("div",{className:"todo__buttons"},a.a.createElement("button",{className:"btn",type:"button",onClick:function(){return t(p("by title"))}},"Sort by title"),a.a.createElement("button",{className:"btn",type:"button",onClick:function(){return t(p("by name"))}},"Sort by name"),a.a.createElement("button",{className:"btn",type:"button",onClick:function(){return t(p("by completed"))}},"Show completed first"))}),k=function(){var t=Object(u.c)(O),e=Object(u.c)(f),n=Object(u.b)(),r=function(){var t=Object(h.a)(_.a.mark((function t(){var e,r,a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:"TOGGLE_LOADING"}),t.next=3,T("https://mate.academy/students-api/todos");case 3:return e=t.sent,t.next=6,T("https://mate.academy/students-api/users");case 6:r=t.sent,a=e.map((function(t){return Object(i.a)(Object(i.a)({},t),{},{user:r.find((function(e){return e.id===t.userId}))})})),n(b(a)),n({type:"TOGGLE_LOADING"});case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return a.a.createElement("div",{className:"todo"},a.a.createElement("h1",null,"Dynamic list of todos"),t.length?a.a.createElement("div",null,a.a.createElement(g,null),a.a.createElement(L,{todos:t})):a.a.createElement("button",{className:"btn",type:"button",onClick:r,disabled:e},"".concat(e?"Loading...":"Load")))},w=function(){return a.a.createElement(u.a,{store:j},a.a.createElement(s.a,null,a.a.createElement(k,null)))};c.a.render(a.a.createElement(w,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.ae498fa3.chunk.js.map